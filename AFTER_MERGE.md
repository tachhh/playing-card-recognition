# ЁЯОЙ Merge р╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з! р╕Чр╕│р╕нр╕░р╣Др╕гр╕Хр╣Ир╕н?

## тЬЕ р╕кр╕Цр╕▓р╕Щр╕░р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ

р╕Др╕╕р╕Ур╣Др╕Фр╣Й merge dataset р╣Ар╕Фр╕┤р╕б + dataset р╣Гр╕лр╕бр╣Ир╣Ар╕гр╕╡р╕вр╕Ър╕гр╣Йр╕нр╕вр╣Бр╕ер╣Йр╕з! 
р╣Др╕Яр╕ер╣Мр╕нр╕вр╕╣р╣Ир╕Чр╕╡р╣И: `data/merged_dataset/`

```
merged_dataset/
тФЬтФАтФА train/          (р╕гр╕зр╕бр╕гр╕╣р╕Ыр╕Ир╕▓р╕Б 2 datasets)
тФЬтФАтФА valid/          (р╣Бр╕Ър╣Ир╕Зр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤)
тФФтФАтФА dataset_info.json
```

---

## ЁЯОп р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Хр╣Ир╕нр╣Др╕Ы (3 р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щ)

### 1я╕ПтГг тЬЕ р╣Бр╕Бр╣Йр╣Др╕В train_cnn_model.py (р╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕з!)

р╣Др╕Яр╕ер╣М `train_cnn_model.py` р╕Цр╕╣р╕Бр╣Бр╕Бр╣Йр╣Др╕Вр╣Гр╕лр╣Йр╣Гр╕Кр╣Й merged dataset р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Бр╕ер╣Йр╕з!

### 2я╕ПтГг р╣Ар╕Чр╕гр╕Щр╣Вр╕бр╣Ар╕Фр╕е (р╕Чр╕│р╕Хр╕нр╕Щр╕Щр╕╡р╣Й!)

**Double-click**: `run_training.bat`

р╕лр╕гр╕╖р╕нр╕гр╕▒р╕Щр╕Др╕│р╕кр╕▒р╣Ир╕З:
```bash
python train_cnn_model.py
```

**р╕гр╕░р╕вр╕░р╣Ар╕зр╕ер╕▓:** 1-2 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З (30 epochs р╕Ър╕Щ CPU)

**р╕Др╕▓р╕Фр╕Бр╕▓р╕гр╕Ур╣М:**
- Accuracy р╣Ар╕Фр╕┤р╕б: 81.89%
- Accuracy р╣Гр╕лр╕бр╣И: 85-92% (р╕Вр╕╢р╣Йр╕Щр╕Бр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╣Ар╕Юр╕┤р╣Ир╕б)

### 3я╕ПтГг р╕Чр╕Фр╕кр╕нр╕Ър╣Вр╕бр╣Ар╕Фр╕е

р╕лр╕ер╕▒р╕Зр╣Ар╕Чр╕гр╕Щр╣Ар╕кр╕гр╣Зр╕И р╣Гр╕лр╣Йр╕гр╕▒р╕Щ:

**Double-click**: `run_testing.bat` (р╕Ир╕░р╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕лр╣Йр╕Фр╣Йр╕▓р╕Щр╕ер╣Ир╕▓р╕З)

р╕лр╕гр╕╖р╕н
```bash
python test_cnn_model.py
```

---

## ЁЯУК р╕Фр╕╣р╕Вр╣Йр╕нр╕бр╕╣р╕е Merged Dataset

р╕гр╕▒р╕Щр╕Др╕│р╕кр╕▒р╣Ир╕З:
```bash
python convert_dataset.py
```

р╣Ар╕ер╕╖р╕нр╕Б option 1: "Analyze existing dataset"
р╣Гр╕кр╣И path: `data/merged_dataset`

р╕Ир╕░р╣Бр╕кр╕Фр╕З:
- р╕Ир╕│р╕Щр╕зр╕Щ classes
- р╕Ир╕│р╕Щр╕зр╕Щр╕гр╕╣р╕Ыр╕Хр╣Ир╕н class
- р╕Бр╕▓р╕гр╕Бр╕гр╕░р╕Ир╕▓р╕вр╕Вр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е

---

## ЁЯОо р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (Quick Reference)

```
[тЬЕ] Download original dataset
[тЬЕ] Place new dataset
[тЬЕ] Merge datasets
[тЬЕ] Update train_cnn_model.py
[ ] Train model              <- р╕Др╕╕р╕Ур╕нр╕вр╕╣р╣Ир╕Хр╕гр╕Зр╕Щр╕╡р╣Й!
[ ] Test model
[ ] Use with camera
```

---

## ЁЯЪА р╣Ар╕гр╕┤р╣Ир╕бр╣Ар╕Чр╕гр╕Щр╣Ар╕ер╕в!

**Double-click**: `run_training.bat`

р╕лр╕гр╕╖р╕н

```bash
python train_cnn_model.py
```

---

## ЁЯУЭ р╕лр╕ер╕▒р╕Зр╣Ар╕Чр╕гр╕Щр╣Ар╕кр╕гр╣Зр╕И

р╣Вр╕бр╣Ар╕Фр╕ер╣Гр╕лр╕бр╣Ир╕Ир╕░р╕Цр╕╣р╕Бр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Чр╕╡р╣И:
- `models/card_classifier_cnn.pth` (р╣Вр╕бр╣Ар╕Фр╕ер╣Гр╕лр╕бр╣И)
- `models/card_classifier_cnn_full.pth` (checkpoint)
- `models/training_history_cnn_YYYYMMDD_HHMMSS.json` (р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤)

---

## ЁЯОп р╕Чр╕Фр╕кр╕нр╕Ър╣Вр╕бр╣Ар╕Фр╕е

```bash
python test_cnn_model.py
```

р╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ъ accuracy:
- р╣Вр╕бр╣Ар╕Фр╕ер╣Ар╕Фр╕┤р╕б: 81.89%
- р╣Вр╕бр╣Ар╕Фр╕ер╣Гр╕лр╕бр╣И: ??.??%

---

## ЁЯУ╖ р╣Гр╕Кр╣Йр╕Бр╕▒р╕Ър╕Бр╕ер╣Йр╕нр╕З

р╕лр╕ер╕▒р╕Зр╣Ар╕Чр╕гр╕Щр╣Бр╕ер╣Йр╕з р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Чр╕│р╕нр╕░р╣Др╕гр╣Ар╕Юр╕┤р╣Ир╕б!

**Double-click**: `run_camera.bat`

р╕гр╕░р╕Ър╕Ър╕Ир╕░р╣Гр╕Кр╣Йр╣Вр╕бр╣Ар╕Фр╕ер╣Гр╕лр╕бр╣Ир╕Чр╕╡р╣Ир╕бр╕╡ accuracy р╕кр╕╣р╕Зр╕Бр╕зр╣Ир╕▓р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤! ЁЯОЙ

---

## тП╕я╕П р╕Цр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕лр╕вр╕╕р╕Фр╕Бр╕ер╕▓р╕Зр╕Др╕▒р╕Щ

р╕Бр╕Ф **Ctrl+C** р╣Гр╕Щ terminal

р╣Вр╕бр╣Ар╕Фр╕ер╕Чр╕╡р╣Ир╕Фр╕╡р╕Чр╕╡р╣Ир╕кр╕╕р╕Фр╕Ир╕░р╕Цр╕╣р╕Бр╣Ар╕Лр╕Яр╣Др╕зр╣Йр╣Бр╕ер╣Йр╕з!

---

## ЁЯТб Tips

### тЬЕ р╣Ар╕Чр╕гр╕Щр╕Хр╣Ир╕нр╣Др╕Фр╣Й
р╕Цр╣Йр╕▓ accuracy р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Юр╕н р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕гр╕▒р╕Щ:
```bash
python continue_training.py
```

### тЬЕ р╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╣Вр╕бр╣Ар╕Фр╕е
р╣Ар╕Бр╣Зр╕Ър╣Вр╕бр╣Ар╕Фр╕ер╣Ар╕Фр╕┤р╕бр╣Др╕зр╣Й:
```bash
copy models\card_classifier_cnn.pth models\card_classifier_cnn_old.pth
```

### тЬЕ Backup
р╕Бр╣Ир╕нр╕Щр╣Ар╕Чр╕гр╕Щ backup р╣Вр╕бр╣Ар╕Фр╕ер╣Ар╕Фр╕┤р╕б:
- `models/card_classifier_cnn.pth` тЖТ `models/backup/`

---

## ЁЯОЙ р╕Юр╕гр╣Йр╕нр╕бр╣Бр╕ер╣Йр╕з!

**р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Цр╕▒р╕Фр╣Др╕Ы:** Double-click `run_training.bat` р╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕гр╕┤р╣Ир╕бр╣Ар╕Чр╕гр╕Щ! ЁЯЪА

---

Made with тЭдя╕П for Playing Card Recognition Project
